<div class="seccion-activa">
    <div class="varita-header-container">
        <h2 class="text-center">Mercado de Armas a Distancia</h2>
    </div>
    
    <div class="varita-layout-container">
        <div class="varita-content-container">
            <div class="varita-container">
                <p class="explicacion-varita">
                    Desde arcos hasta hondas y armas arrojadizas, aquí encontrarás todo tipo de armas
                    para atacar a distancia en Glorantha. Cada arma equilibra daño, alcance, 
                    precisión y precio. ¡Elige sabiamente tu ofensiva!
                </p>
                
                <!-- Botones de categoría (se generan dinámicamente) -->
                <div class="controles text-center">
                    <div class="fila-botones" id="botones-categoria">
                        <!-- Botones se generarán dinámicamente -->
                    </div>
                </div>
                
                <!-- Buscador -->
                <div class="buscador-container" style="width: 50%; margin: 20px auto; text-align: center;">
                    <input type="text" id="buscador-armasd" placeholder="Buscar por tipo de arma..." 
                           style="width: 100%; padding: 10px; border-radius: 4px; border: 1px solid #d69e2e; 
                                  background-color: #2d3748; color: white; font-size: 0.9em;">
                </div>
                
                <!-- Título de categoría seleccionada -->
                <h3 id="titulo-categoria" style="margin-top: 10px; color: #d69e2e; display: none;"></h3>
                
                <!-- Contenedor de tabla -->
                <div class="tabla-armasd-container" style="margin-top: 10px; display: none;">
                    <table class="tabla-armasd">
                        <thead>
                            <tr>
                                <th style="width: 15%;">Tipo</th>
                                <th style="width: 8%;">%</th>
                                <th style="width: 8%;">FUE</th>
                                <th style="width: 8%;">DES</th>
                                <th style="width: 10%;">Daño</th>
                                <th style="width: 8%;">PG</th>
                                <th style="width: 8%;">CRG</th>
                                <th style="width: 10%;">Alcance</th>
                                <th style="width: 8%;">Tasa</th>
                                <th style="width: 15%;">Precio</th>
                            </tr>
                        </thead>
                        <tbody id="armasd-tbody">
                            <!-- Datos dinámicos -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div class="eurmal-image-container">
            <img src="imagenes/arma-distancia.webp" alt="Mercader de armas a distancia" class="eurmal-image">
        </div>
    </div>
</div>

<style>
    .tabla-armasd {
        width: 100%;
        border-collapse: collapse;
        background: rgba(45, 55, 72, 0.5);
    }
    .tabla-armasd th {
        background-color: #2d3748;
        color: #d69e2e;
        padding: 12px;
        text-align: left;
        position: sticky;
        top: 0;
    }
    .tabla-armasd td {
        padding: 10px 12px;
        border-bottom: 1px solid #4a5568;
        color: #f7fafc;
    }
    .tabla-armasd tr:hover {
        background-color: rgba(214, 158, 46, 0.1);
    }
    .tabla-armasd-container {
        max-height: 60vh;
        overflow-y: auto;
        margin-bottom: 20px;
    }
    /* Estilos para el buscador */
    #buscador-armasd::placeholder {
        color: #a0aec0;
        opacity: 1;
    }
    #buscador-armasd:focus {
        outline: none;
        border-color: #f6ad55;
        box-shadow: 0 0 0 1px #f6ad55;
    }
    .resultado-busqueda {
        background-color: rgba(214, 158, 46, 0.2) !important;
    }

    /* Estilos para los botones de categorías */
    .fila-botones {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 8px;
        margin-bottom: 10px;
    }
    
    .boton-categoria {
        background-color: #2d3748;
        color: #d69e2e;
        border: 1px solid #d69e2e;
        border-radius: 4px;
        padding: 8px 12px;
        cursor: pointer;
        font-size: 14px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 150px;
        min-width: 100px;
        text-align: center;
        transition: all 0.2s ease;
    }
    
    .boton-categoria:hover {
        background-color: #3c4a5f;
        transform: translateY(-1px);
    }
    
    .boton-categoria:active {
        transform: translateY(1px);
    }

    /* Responsive */
    @media (max-width: 768px) {
        .buscador-container {
            width: 80% !important;
        }
        .tabla-armasd th, 
        .tabla-armasd td {
            padding: 8px 6px;
            font-size: 0.9em;
        }
        .boton-categoria {
            min-width: 80px;
            max-width: 120px;
            font-size: 12px;
            padding: 6px 8px;
        }
    }
</style>

<script src="js/secciones/mercado/armasd.js"></script>